(this["webpackJsonphkzf-mobile"]=this["webpackJsonphkzf-mobile"]||[]).push([[21],{412:function(e,a,t){e.exports={title:"Profile_title__3NHUZ",bg:"Profile_bg__3ku-l",info:"Profile_info__1tsln",auth:"Profile_auth__3pFNq",user:"Profile_user__cbf5a",myIcon:"Profile_myIcon__2z3az",avatar:"Profile_avatar__3LxRS",name:"Profile_name__hMWoY",edit:"Profile_edit__3Z3h-",arrow:"Profile_arrow__3umfk",ad:"Profile_ad__2GfLY",menuItem:"Profile_menuItem__1kTS5"}},425:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return P}));t(406);var n=t(408),r=t.n(n),i=(t(409),t(411)),o=t.n(i),c=t(41),s=t.n(c),l=t(60),m=t(27),u=t(28),f=t(30),d=t(29),p=(t(226),t(227)),_=t.n(p),v=t(0),h=t.n(v),b=t(31),g=t(61),E=t(412),N=t.n(E),k=[{id:1,name:"\u6211\u7684\u6536\u85cf",iconfont:"icon-coll",to:"/favorate"},{id:2,name:"\u6211\u7684\u51fa\u79df",iconfont:"icon-ind",to:"/rent"},{id:3,name:"\u770b\u623f\u8bb0\u5f55",iconfont:"icon-record"},{id:4,name:"\u6210\u4e3a\u623f\u4e3b",iconfont:"icon-identity"},{id:5,name:"\u4e2a\u4eba\u8d44\u6599",iconfont:"icon-myinfo"},{id:6,name:"\u8054\u7cfb\u6211\u4eec",iconfont:"icon-cust"}],y=g.b+"/img/profile/avatar.png",I=_.a.alert,P=function(e){Object(f.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={isLogin:Object(g.f)(),userInfo:{avatar:"",nickname:""}},e.logout=function(){I("\u63d0\u793a","\u662f\u5426\u786e\u5b9a\u9000\u51fa?",[{text:"\u53d6\u6d88"},{text:"\u9000\u51fa",onPress:function(){var a=Object(l.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.post("/user/logout",null,{headers:{authorization:Object(g.e)()}});case 2:Object(g.g)(),e.setState({isLogin:!1,userInfo:{avatar:"",nickname:""}});case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()}])},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"getUserInfo",value:function(){var e=Object(l.a)(s.a.mark((function e(){var a,t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.isLogin){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g.a.get("/user",{headers:{authorization:Object(g.e)()}});case 4:200===(a=e.sent).data.status&&(t=a.data.body,n=t.avatar,r=t.nickname,this.setState({userInfo:{avatar:g.b+n,nickname:r}}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.history,a=this.state,t=a.isLogin,n=a.userInfo,i=n.avatar,c=n.nickname;return h.a.createElement("div",{className:N.a.root},h.a.createElement("div",{className:N.a.title},h.a.createElement("img",{className:N.a.bg,src:g.b+"/img/profile/bg.png",alt:"\u80cc\u666f\u56fe"}),h.a.createElement("div",{className:N.a.info},h.a.createElement("div",{className:N.a.myIcon},h.a.createElement("img",{className:N.a.avatar,src:i||y,alt:"icon"})),h.a.createElement("div",{className:N.a.user},h.a.createElement("div",{className:N.a.name},c||"\u6e38\u5ba2"),t?h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:N.a.auth},h.a.createElement("span",{onClick:this.logout},"\u9000\u51fa")),h.a.createElement("div",{className:N.a.edit},"\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599",h.a.createElement("span",{className:N.a.arrow},h.a.createElement("i",{className:"iconfont icon-arrow"})))):h.a.createElement("div",{className:N.a.edit},h.a.createElement(o.a,{type:"primary",size:"small",inline:!0,onClick:function(){return e.push("/login")}},"\u53bb\u767b\u5f55"))))),h.a.createElement(r.a,{data:k,columnNum:3,hasLine:!1,renderItem:function(e){return e.to?h.a.createElement(b.b,{to:e.to},h.a.createElement("div",{className:N.a.menuItem},h.a.createElement("i",{className:"iconfont ".concat(e.iconfont)}),h.a.createElement("span",null,e.name))):h.a.createElement("div",{className:N.a.menuItem},h.a.createElement("i",{className:"iconfont ".concat(e.iconfont)}),h.a.createElement("span",null,e.name))}}),h.a.createElement("div",{className:N.a.ad},h.a.createElement("img",{src:g.b+"/img/profile/join.png",alt:""})))}}]),t}(v.Component)}}]);
//# sourceMappingURL=21.6482bc0e.chunk.js.map